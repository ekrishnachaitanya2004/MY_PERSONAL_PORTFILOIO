---
import type { CollectionEntry } from "astro:content";
import FormattedDate from "./FormattedDate.astro";
import { withBase } from "../utils/helpers";

type Props = { post: CollectionEntry<"blogs"> };
const { post } = Astro.props;
const { title, pubDate, description } = post.data;
---

<a class="post-card" href={withBase("/blog/" + post.id)}>
  <div class="post-card-content">
    <h2 class="sigmar-ff post-title">{title}</h2>
    <div class="post-meta">
      <FormattedDate date={new Date(pubDate)} />
    </div>
      {
        description && (
        <p class="comfortaa-regular post-description">{description}</p>
        )
      }
  </div>
</a>

<style>
  .post-card {
    display: block;
    text-decoration: none;
    color: inherit;
    transition: all 0.3s ease;
    padding: 1.5rem;
    border-radius: 0.75rem;
    border: none;
    background: rgba(255, 255, 255, 0.02);
  }

  html.light .post-card {
    background: rgba(0, 0, 0, 0.02);
  }

  .post-card:hover {
    transform: translateX(8px);
    background: rgba(255, 255, 255, 0.05);
  }

  html.dark .post-card:hover {
    background: rgba(255, 255, 255, 0.05);
  }

  html.light .post-card:hover {
    background: rgba(0, 0, 0, 0.05);
  }

  .post-card-content {
    display: flex;
    flex-direction: column;
    gap: 0.5rem;
  }

  .post-title {
    font-size: clamp(1.25rem, 3vw, 1.75rem);
    line-height: 1.3;
    margin: 0;
    transition: color 0.3s ease;
  }

  .post-card:hover .post-title {
    color: var(--color-space-red);
  }

  html.dark .post-card:hover .post-title {
    color: var(--color-space-yellow);
  }

  .post-meta {
    font-size: 0.85rem;
    opacity: 0.7;
    font-family: "Kanit", sans-serif;
  }

  .post-description {
    font-size: 0.95rem;
    line-height: 1.7;
    opacity: 0.85;
    margin-top: 0.25rem;
  }

  @media (max-width: 768px) {
    .post-card {
      padding: 1.25rem;
    }

    .post-card:hover {
      transform: translateX(4px);
    }
  }
</style>
